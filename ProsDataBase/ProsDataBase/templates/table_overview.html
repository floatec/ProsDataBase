{% extends "base.html" %}

{% block navigation %}
<div>Tabellen</div>
 <ul id="navigationMenuContent">

 </ul>

{% endblock %}

{% block header %}

{% endblock %}

{% block menu %}
<a href="/createTable" class="buttonMenuButton">new table</a>

{% endblock %}

{% block javascript %}
<script language="JavaScript" >
       $.getJSON('/api/table',function(data){
        createTables(data.tables);
    });
    //function to create and fill tables
    function createTables(tables){
	for (key in tables) {
		var tablename = tables[key].name;
		// fill Navigation-Bar
		$("#navigationMenuContent").append("<li><a href='/detailview/"+tables[key].name+"'>"+tables[key].name+"</a></li>");
		// create tables
		$("#content").append("<a href='/detailview/"+tables[key].name+"'><div class='overViewDiv' id='table"+key+"'><div id='overViewHeader'>"+tablename+"</div></div></a>");
		for (rows in tables[key].column){
			$("#table"+key).append("<div class='overViewContentDiv'>"+tables[key].column[rows]+"</div>");
		}
    }
	}
</script>
{% endblock %}